{"version":3,"sources":["shared/form/Form.styled.js","shared/form/TextField.styled.js","pages/login/Login.style.js","pages/login/Login.js"],"names":["styled","form","props","customStyles","FormTitle","h2","formHelperTextAnim","keyframes","TextField","Container","div","formCustomStyles","css","FormInnerContainer","InitBtn","Button","ForgetLink","Link","ErrorMsg","show","Login","useState","fields","setFields","errMsg","setErrMsg","dispatch","useContext","MainContext","handleFormSubmit","e","a","preventDefault","axios","post","data","emailNotConfirmed","ok","type","actionTypes","SET_IS_AUTHENTICATED","payload","isAuthenticated","SET_USER","user","handleFieldChange","oldFields","target","name","value","onSubmit","length","fullWidth","onChange","label","to","variant","disableElevation"],"mappings":"ojBAEeA,QAAOC,KAAtB,KAMG,SAACC,GAAD,OAAWA,EAAMC,gBAGb,IAAMC,EAAYJ,IAAOK,GAAV,M,y/BCRtB,IAAMC,EAAqBC,YAAH,KAaTP,gBAAOQ,IAAPR,CAAf,IA+BeM,I,6sCC3CR,IAAMG,EAAYT,IAAOU,IAAV,KAKTC,EAAmBC,YAAH,KAMhBC,EAAqBb,IAAOU,IAAV,KAQlBI,EAAUd,YAAOe,IAAPf,CAAH,KAUPgB,EAAahB,YAAOiB,IAAPjB,CAAH,KAIVkB,EAAWlB,IAAOU,IAAV,KACT,SAACR,GAAD,OAAYA,EAAMiB,KAAO,OAAS,UCvB/B,SAASC,IAAS,IAAD,EACHC,mBAAS,IADN,mBACxBC,EADwB,KAChBC,EADgB,OAEHF,mBAAS,IAFN,mBAExBG,EAFwB,KAEhBC,EAFgB,KAGvBC,EAAaC,qBAAWC,KAAxBF,SAEFG,EAAgB,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DACxBD,EAAEE,iBADsB,SAEDC,IAAMC,KAAN,4BACDZ,EAAM,MADL,qBAC2BA,EAAM,UACvDA,GAJuB,iBAEhBa,EAFgB,EAEhBA,MAICC,kBACRX,EAAU,8DACCU,EAAKE,IAGhBX,EAAS,CACRY,KAAMC,IAAYC,qBAClBC,QAAS,CACRC,gBAAiBP,EAAKO,mBAGxBhB,EAAS,CACRY,KAAMC,IAAYI,SAClBF,QAAS,CACRG,KAAMT,EAAKS,SAXbnB,EAAU,+CATa,2CAAH,sDA0BhBoB,EAAoB,SAACf,GAC1BP,GAAU,SAACuB,GAAD,mBAAC,eACPA,GADM,kBAERhB,EAAEiB,OAAOC,KAAOlB,EAAEiB,OAAOE,WAE3BxB,EAAU,KAGX,OACC,cAAChB,EAAD,UACC,eAAC,IAAD,CAAMN,aAAcQ,EAAkBuC,SAAUrB,EAAhD,UACC,cAAC,IAAD,gCACA,eAAChB,EAAD,WACC,cAACK,EAAD,CAAUC,KAAwB,IAAlBK,EAAO2B,OAAvB,SAAsC3B,IACtC,cAAC,IAAD,CACC4B,WAAS,EACTC,SAAUR,EACVG,KAAK,QACLM,MAAM,wBACNhB,KAAK,SAEN,cAAC,IAAD,CACCc,WAAS,EACTC,SAAUR,EACVG,KAAK,WACLM,MAAM,gBACNhB,KAAK,aAEN,cAACtB,EAAD,CAAYuC,GAAG,cAAf,6CACA,uBACA,cAACzC,EAAD,CAAS0C,QAAQ,YAAYC,kBAAgB,EAACnB,KAAK,SAAnD,qBAGA,cAAC,IAAD,CAAMiB,GAAG,YAAT","file":"static/js/16.a12ee0a0.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport default styled.form`\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\twidth: 100%;\r\n\tflex-direction: column;\r\n\t${(props) => props.customStyles}\r\n`;\r\n\r\nexport const FormTitle = styled.h2`\r\n\ttext-transform: uppercase;\r\n\tcolor: var(--lmed-green-02);\r\n\tfont-family: 'NunitoExtraBold' !important;\r\n\tfont-size: 30px;\r\n\ttext-align: center;\r\n`;\r\n","import styled, { keyframes } from 'styled-components';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst formHelperTextAnim = keyframes`\r\n\t0% {\r\n\t\topacity: 0;\r\n\t\ttransform: scaleY(0);\r\n\t}\r\n\t80%{\r\n\t\ttransform: scaleY(1);\r\n\t}\r\n\t100% {\r\n\t\topacity: 1;\r\n\t}\r\n`;\r\n\r\nexport default styled(TextField)`\r\n\tmargin-top: 2px !important;\r\n\r\n\t& .MuiInputLabel-formControl {\r\n\t\tcolor: var(--lmed-green-00);\r\n\t\tfont-family: NunitoBold;\r\n\t}\r\n\r\n\t& .MuiInputBase-input {\r\n\t\tcolor: var(--lmed-black-00);\r\n\t\tpadding: 6px 0 5px;\r\n\t}\r\n\r\n\t& .MuiInputLabel-shrink {\r\n\t\ttransform: translate(0, 6.5px) scale(0.75);\r\n\t}\r\n\r\n\t& .MuiFormLabel-root.Mui-error {\r\n\t\tcolor: #ff1100;\r\n\t}\r\n\r\n\t& .MuiInput-underline:before,\r\n\t& .MuiInput-underline:after {\r\n\t\tborder-bottom: 1px solid var(--lmed-green-00);\r\n\t}\r\n\r\n\t& .MuiInput-underline:hover:not(.Mui-disabled):before {\r\n\t\tborder-bottom: 2px solid var(--lmed-green-00);\r\n\t}\r\n\r\n\t& .MuiFormHelperText-root {\r\n\t\tanimation: ${formHelperTextAnim} 220ms;\r\n\t}\r\n`;\r\n","import styled, { css } from 'styled-components';\r\nimport { Button } from '@material-ui/core';\r\nimport Link from 'shared/link/Link.styled';\r\n\r\nexport const Container = styled.div`\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n`;\r\n\r\nexport const formCustomStyles = css`\r\n\t& {\r\n\t\tjustify-content: space-evenly;\r\n\t}\r\n`;\r\n\r\nexport const FormInnerContainer = styled.div`\r\n\tdisplay: grid;\r\n\tplace-items: center;\r\n\toverflow-y: auto;\r\n\twidth: 80%;\r\n\tpadding: 0 20px;\r\n`;\r\n\r\nexport const InitBtn = styled(Button)`\r\n\tborder-radius: 25px !important;\r\n\tmargin-top: 50px !important;\r\n\twidth: 70%;\r\n\tbackground-color: var(--lmed-green-02) !important;\r\n\t& * {\r\n\t\tcolor: white;\r\n\t}\r\n`;\r\n\r\nexport const ForgetLink = styled(Link)`\r\n\twidth: 100%;\r\n`;\r\n\r\nexport const ErrorMsg = styled.div`\r\n\tdisplay: ${(props) => (props.show ? 'flex' : 'none')};\r\n\tjustify-content: center;\r\n\ttext-align: center;\r\n\twidth: 100% !important;\r\n\tpadding: 10px;\r\n\tmargin-bottom: 20px;\r\n\tbackground-color: var(--lmed-red-00);\r\n\tcolor: #fff;\r\n\tborder-radius: 9px;\r\n`;\r\n","import React, { useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { MainContext, actionTypes } from 'global/context';\r\nimport Form, { FormTitle } from 'shared/form/Form.styled';\r\nimport TextField from 'shared/form/TextField.styled';\r\nimport Link from 'shared/link/Link.styled';\r\nimport {\r\n\tContainer,\r\n\tFormInnerContainer,\r\n\tInitBtn,\r\n\tForgetLink,\r\n\tErrorMsg,\r\n\tformCustomStyles\r\n} from './Login.style';\r\n\r\nexport default function Login() {\r\n\tconst [fields, setFields] = useState({});\r\n\tconst [errMsg, setErrMsg] = useState('');\r\n\tconst { dispatch } = useContext(MainContext);\r\n\r\n\tconst handleFormSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t`/user/login?email=${fields['email']}&password=${fields['password']}`,\r\n\t\t\tfields\r\n\t\t);\r\n\t\tif (data.emailNotConfirmed) {\r\n\t\t\tsetErrMsg('Debe confirmar su correo electrónico antes de ingresar.');\r\n\t\t} else if (!data.ok) {\r\n\t\t\tsetErrMsg('Credenciales incorrectas. Intente de nuevo.');\r\n\t\t} else {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: actionTypes.SET_IS_AUTHENTICATED,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tisAuthenticated: data.isAuthenticated\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: actionTypes.SET_USER,\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tuser: data.user\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleFieldChange = (e) => {\r\n\t\tsetFields((oldFields) => ({\r\n\t\t\t...oldFields,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t}));\r\n\t\tsetErrMsg('');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Form customStyles={formCustomStyles} onSubmit={handleFormSubmit}>\r\n\t\t\t\t<FormTitle>Iniciar Sesi&oacute;n</FormTitle>\r\n\t\t\t\t<FormInnerContainer>\r\n\t\t\t\t\t<ErrorMsg show={errMsg.length !== 0}>{errMsg}</ErrorMsg>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tonChange={handleFieldChange}\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tlabel=\"Correo electrónico\"\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tonChange={handleFieldChange}\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tlabel=\"Contraseña\"\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ForgetLink to=\"/recoverpwd\">¿Olvidaste tu contraseña?</ForgetLink>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<InitBtn variant=\"contained\" disableElevation type=\"submit\">\r\n\t\t\t\t\t\tIniciar\r\n\t\t\t\t\t</InitBtn>\r\n\t\t\t\t\t<Link to=\"/register\">Registrarse</Link>\r\n\t\t\t\t</FormInnerContainer>\r\n\t\t\t</Form>\r\n\t\t</Container>\r\n\t);\r\n}\r\n"],"sourceRoot":""}